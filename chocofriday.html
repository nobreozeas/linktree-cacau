<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ChocoFriday ‚Ä¢ Cacau Show</title>
    <link rel="icon" type="image/png" href="./images/logo.png" />

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
        rel="stylesheet" />

    <style>
        :root {
            --bg: #f5f0e8;
            --card: #ffffff;
            --text: #3d2817;
            --subtext: #8b6f47;
            --primary: #c8102e;
            --primary-hover: #a00d24;
            --secondary: #d4a574;
            --accent: #8b4513;
            --success: #2d7a3e;
            --radius: 12px;
            --shadow: 0 4px 12px rgba(61, 40, 23, 0.15);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "Inter", sans-serif;
        }

        body {
            background: var(--bg);
            color: var(--text);
            padding-bottom: 100px;
        }

        /* HEADER */
        .header {
            background-color: #1C1C1B;
            padding: 24px 16px;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: var(--shadow);
        }

        nav {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }



        /* CONTAINER */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 24px 16px;
        }

        /* PRODUTOS */
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 32px;
        }

        .product-card {
            background: var(--card);
            border-radius: var(--radius);
            padding: 20px;
            box-shadow: var(--shadow);
            transition: all 0.3s ease;
            border: 1px solid #e8dcc8;
            position: relative;
            overflow: hidden;
        }

        .product-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 20px rgba(61, 40, 23, 0.2);
        }

        .product-image {
            width: 100%;
            height: 200px;
            background: #fafafa;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 48px;
            margin-bottom: 16px;
            overflow: hidden;
            position: relative;
        }

        .product-image img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            padding: 10px;
        }

        .product-name {
            font-size: 15px;
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--text);
            line-height: 1.3;
            min-height: 40px;
        }

        .product-description {
            font-size: 12px;
            color: var(--subtext);
            margin-bottom: 12px;
            line-height: 1.4;
        }

        .product-price-container {
            margin-bottom: 16px;
        }

        .product-price {
            display: flex;
            align-items: baseline;
            gap: 8px;
            margin-bottom: 4px;
        }

        .price-old {
            font-size: 13px;
            color: var(--subtext);
            text-decoration: line-through;
        }

        .price-new {
            font-size: 24px;
            font-weight: 700;
            color: var(--primary);
        }

        .discount-badge {
            display: inline-block;
            background: var(--success);
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 11px;
            font-weight: 600;
        }

        .product-actions {
            display: flex;
            gap: 8px;
            align-items: center;
        }

        .quantity-control {
            display: flex;
            align-items: center;
            background: #f9f5f0;
            border: 1px solid #e8dcc8;
            border-radius: 8px;
            padding: 4px;
            gap: 8px;
        }

        .quantity-control button {
            width: 32px;
            height: 32px;
            border: none;
            background: transparent;
            color: var(--text);
            font-size: 18px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 4px;
            transition: 0.2s;
        }

        .quantity-control button:hover {
            background: #e8dcc8;
        }

        .quantity-control button:disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }

        .quantity-control input {
            width: 40px;
            text-align: center;
            border: none;
            background: transparent;
            font-size: 14px;
            font-weight: 600;
            color: var(--text);
        }

        .quantity-control input::-webkit-inner-spin-button,
        .quantity-control input::-webkit-outer-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }

        .btn-add {
            flex: 1;
            padding: 10px 16px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
        }

        .btn-add:hover {
            background: var(--primary-hover);
            transform: translateY(-1px);
        }

        .btn-add:active {
            transform: translateY(0);
        }

        /* CARRINHO FLUTUANTE */
        .cart-float {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--primary);
            color: white;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 4px 16px rgba(200, 16, 46, 0.4);
            transition: 0.2s;
            z-index: 1000;
        }

        .cart-float:hover {
            transform: scale(1.1);
        }

        .cart-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: #ff0000;
            color: white;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: 700;
        }

        /* MODAL DO CARRINHO */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(61, 40, 23, 0.85);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            padding: 16px;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: var(--card);
            border-radius: var(--radius);
            max-width: 600px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            padding: 24px;
            position: relative;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 16px;
            border-bottom: 2px solid #e8dcc8;
        }

        .modal-header h2 {
            font-size: 24px;
        }

        .btn-close {
            background: none;
            border: none;
            color: var(--text);
            font-size: 28px;
            cursor: pointer;
            padding: 0;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .cart-item {
            display: flex;
            gap: 12px;
            padding: 12px 0;
            border-bottom: 1px solid #e8dcc8;
        }

        .cart-item-info {
            flex: 1;
        }

        .cart-item-name {
            font-weight: 600;
            margin-bottom: 4px;
        }

        .cart-item-price {
            color: var(--primary);
            font-weight: 600;
        }

        .cart-item-controls {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-top: 8px;
        }

        .btn-qty {
            width: 28px;
            height: 28px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .qty-display {
            min-width: 30px;
            text-align: center;
            font-weight: 600;
        }

        .btn-remove {
            margin-left: auto;
            background: #ff4444;
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
        }

        .cart-empty {
            text-align: center;
            padding: 40px 20px;
            color: var(--subtext);
        }

        .cart-total {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 2px solid #e8dcc8;
        }

        .total-line {
            display: flex;
            justify-content: space-between;
            margin-bottom: 12px;
            font-size: 18px;
        }

        .total-line.final {
            font-size: 24px;
            font-weight: 700;
            color: var(--primary);
        }

        /* FORMA DE PAGAMENTO */
        .payment-section {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid #e8dcc8;
        }

        .payment-section h3 {
            font-size: 16px;
            margin-bottom: 12px;
        }

        .payment-options {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .payment-option {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 12px;
            background: #f9f5f0;
            border: 2px solid #e8dcc8;
            border-radius: 8px;
            cursor: pointer;
            transition: 0.2s;
        }

        .payment-option:hover {
            background: #efe8dc;
            border-color: #d4a574;
        }

        .payment-option input[type="radio"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
        }

        .payment-option label {
            cursor: pointer;
            flex: 1;
        }

        .form-input {
            width: 100%;
            padding: 12px;
            border: 2px solid #e8dcc8;
            border-radius: 8px;
            font-size: 14px;
            font-family: "Inter", sans-serif;
            transition: 0.2s;
            background: #f9f5f0;
            color: var(--text);
        }

        .form-input:focus {
            outline: none;
            border-color: var(--primary);
            background: white;
        }

        .form-input::placeholder {
            color: var(--subtext);
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-bottom: 12px;
        }

        .form-row.full {
            grid-template-columns: 1fr;
        }

        @media (max-width: 640px) {
            .form-row {
                grid-template-columns: 1fr;
            }
        }

        .btn-checkout {
            width: 100%;
            padding: 16px;
            background: var(--success);
            color: white;
            border: none;
            border-radius: var(--radius);
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            margin-top: 20px;
            transition: 0.2s;
        }

        .btn-checkout:hover {
            background: #45a049;
        }

        .btn-checkout:disabled {
            background: #666;
            cursor: not-allowed;
        }

        /* CARROSSEL DE BANNERS */
        .banner-carousel {
            max-width: 1200px;
            margin: 0 auto 32px;
            padding: 0 16px;
            position: relative;
            overflow: hidden;

        }

        .carousel-container {
            margin-top: 20px;
            position: relative;
            border-radius: var(--radius);
            overflow: hidden;
            box-shadow: var(--shadow);
        }

        .carousel-slides {
            display: flex;
            transition: transform 0.5s ease-in-out;
        }

        .carousel-slide {
            min-width: 100%;
            position: relative;
        }

        .carousel-slide img {
            width: 100%;
            height: auto;
            display: block;
            max-height: 600px;
            object-fit: cover;
        }

        .carousel-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255, 255, 255, 0.9);
            border: none;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: var(--text);
            transition: 0.2s;
            z-index: 10;
        }

        .carousel-nav:hover {
            background: white;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        .carousel-prev {
            left: 16px;
        }

        .carousel-next {
            right: 16px;
        }

        .carousel-dots {
            position: absolute;
            bottom: 16px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 8px;
            z-index: 10;
        }

        .carousel-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.5);
            border: 2px solid white;
            cursor: pointer;
            transition: 0.2s;
        }

        .carousel-dot.active {
            background: white;
            width: 30px;
            border-radius: 5px;
        }

        @media (max-width: 640px) {
            .products-grid {
                grid-template-columns: 1fr;
            }

            .cart-float {
                bottom: 16px;
                right: 16px;
            }

            .carousel-slide img {
                max-height: 350px;
            }

            .carousel-nav {
                width: 35px;
                height: 35px;
                font-size: 18px;
            }

            nav{
                flex-direction: column;
                gap: 12px;
            }
        }
    </style>
</head>

<body>

    <!-- HEADER -->
    <div class="header">
        <nav>
            <div class="logo">
                <a href="./index.html">
                    <img src="./images/logo_cacau_show.svg" alt="">
                </a>
            </div>
            <div class="text-header">
                <h3 style="color: white;">ChocoFriday ‚Ä¢ Cacau Show Pl√°cido de Castro</h3>
            </div>
            
        </nav>
    </div>

    <!-- CARROSSEL DE BANNERS -->
    <div class="banner-carousel">
        <div class="carousel-container">
            <div class="carousel-slides" id="carouselSlides">
                <div class="carousel-slide">
                    <img src="./images/banner01.webp" alt="Promo√ß√£o 1">
                </div>
                <div class="carousel-slide">
                    <img src="./images/banner02.webp" alt="Promo√ß√£o 2">
                </div>
                <div class="carousel-slide">
                    <img src="./images/banner03.webp" alt="Promo√ß√£o 3">
                </div>

            </div>

            <button class="carousel-nav carousel-prev" onclick="moveCarousel(-1)">‚Äπ</button>
            <button class="carousel-nav carousel-next" onclick="moveCarousel(1)">‚Ä∫</button>

            <div class="carousel-dots" id="carouselDots"></div>
        </div>
    </div>

    <!-- PRODUTOS -->
    <div class="container">
        <div class="products-grid" id="productsGrid"></div>
    </div>

    <!-- CARRINHO FLUTUANTE -->
    <div class="cart-float" id="cartFloat">
        üõí
        <div class="cart-badge" id="cartBadge">0</div>
    </div>

    <!-- MODAL DO CARRINHO -->
    <div class="modal" id="cartModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Meu Carrinho</h2>
                <button class="btn-close" id="btnCloseModal">√ó</button>
            </div>

            <div id="cartItems"></div>

            <div class="cart-total" id="cartTotal" style="display: none;">
                <div class="total-line final">
                    <span>Total:</span>
                    <span id="totalPrice">R$ 0,00</span>
                </div>

                <!-- TIPO DE CLIENTE -->
                <div class="payment-section">
                    <h3>Tipo de Cliente:</h3>
                    <div class="payment-options">
                        <div class="payment-option">
                            <input type="radio" name="clientType" id="pf" value="PF" checked>
                            <label for="pf">üë§ Pessoa F√≠sica</label>
                        </div>
                        <div class="payment-option">
                            <input type="radio" name="clientType" id="pj" value="PJ">
                            <label for="pj">üè¢ Pessoa Jur√≠dica (Empresas)</label>
                        </div>
                    </div>
                </div>

                <!-- DADOS DO CLIENTE -->
                <div class="payment-section">
                    <h3>Seus Dados:</h3>
                    <input type="text" 
                           id="clientName" 
                           class="form-input" 
                           placeholder="Nome completo ou Nome da Empresa"
                           style="margin-bottom: 12px;">
                    
                    <h3 style="margin-top: 20px; margin-bottom: 10px;">Endere√ßo de Entrega:</h3>
                    <input type="text" id="clientCep" class="form-input" placeholder="CEP (busca autom√°tica)" maxlength="9" style="margin-bottom: 12px;">
                    <input type="text" id="clientLogradouro" class="form-input" placeholder="Logradouro (Rua, Avenida) *" required style="margin-bottom: 12px;">
                    <div class="form-row">
                        <input type="text" id="clientNumero" class="form-input" placeholder="N√∫mero">
                        <input type="text" id="clientBairro" class="form-input" placeholder="Bairro *" required>
                    </div>
                    <input type="text" id="clientComplemento" class="form-input" placeholder="Complemento (Apto, Bloco, etc)" style="margin-bottom: 12px;">
                    <input type="text" id="clientCidade" class="form-input" placeholder="Cidade *" required>
                </div>

                <!-- CACAU LOVER -->
                <div class="payment-section">
                    <h3>üç´ Programa Cacau Lover</h3>
                    <div class="payment-options">
                        <div class="payment-option">
                            <input type="radio" name="cacauLover" id="jaSouLover" value="ja">
                            <label for="jaSouLover">‚ù§Ô∏è J√° sou Cacau Lover</label>
                        </div>
                        <div class="payment-option">
                            <input type="radio" name="cacauLover" id="queroSerLover" value="quero">
                            <label for="queroSerLover">‚≠ê Quero ser Cacau Lover</label>
                        </div>
                        <div class="payment-option">
                            <input type="radio" name="cacauLover" id="naoQueroLover" value="nao" checked>
                            <label for="naoQueroLover">üö´ N√£o quero aproveitar os benef√≠cios</label>
                        </div>
                    </div>
                    
                    <!-- Campos para quem J√Å √â Cacau Lover -->
                    <div id="loverExistenteFields" style="display: none; margin-top: 15px;">
                        <input type="text" id="loverCpfExistente" class="form-input" placeholder="CPF *" maxlength="14" style="margin-bottom: 12px;">
                    </div>
                    
                    <!-- Campos para quem QUER SER Cacau Lover -->
                    <div id="loverNovoFields" style="display: none; margin-top: 15px;">
                        <input type="text" id="loverCpfNovo" class="form-input" placeholder="CPF *" maxlength="14" style="margin-bottom: 12px;">
                        <input type="email" id="loverEmail" class="form-input" placeholder="E-mail *" style="margin-bottom: 12px;">
                        <input type="text" id="loverTelefone" class="form-input" placeholder="Telefone (DDD + N√∫mero) *" maxlength="15" style="margin-bottom: 12px;">
                    </div>
                </div>

                <!-- FORMA DE PAGAMENTO -->
                <div class="payment-section">
                    <h3>Forma de Pagamento:</h3>
                    <div class="payment-options">
                        <div class="payment-option">
                            <input type="radio" name="payment" id="pix" value="PIX">
                            <label for="pix">üí∞ PIX</label>
                        </div>
                        <div class="payment-option">
                            <input type="radio" name="payment" id="dinheiro" value="Dinheiro">
                            <label for="dinheiro">üíµ Dinheiro</label>
                        </div>
                        <div class="payment-option">
                            <input type="radio" name="payment" id="debito" value="Cart√£o de D√©bito">
                            <label for="debito">üí≥ Cart√£o de D√©bito</label>
                        </div>
                        <div class="payment-option">
                            <input type="radio" name="payment" id="credito" value="Cart√£o de Cr√©dito">
                            <label for="credito">üí≥ Cart√£o de Cr√©dito</label>
                        </div>
                    </div>
                </div>

                <button class="btn-checkout" id="btnCheckout">
                    Finalizar Pedido no WhatsApp üì±
                </button>
            </div>
        </div>
    </div>

    <script>
        // FUN√á√ïES DE LOCAL STORAGE
        function saveCartToLocalStorage() {
            localStorage.setItem('chocofriday_cart', JSON.stringify(cart));
        }

        function loadCartFromLocalStorage() {
            const savedCart = localStorage.getItem('chocofriday_cart');
            if (savedCart) {
                cart = JSON.parse(savedCart);
                updateCart();
            }
        }

        function clearCartFromLocalStorage() {
            localStorage.removeItem('chocofriday_cart');
        }

        // PRODUTOS (voc√™ pode adicionar mais produtos aqui)
        const products = [
            {
                id: 1,
                code: "1000624",
                name: "Panetone Trufado 420g",
                description: "O Panetone de Chocolate ao Leite da Cacau Show √© a escolha perfeita para um momento especial, com um delicioso recheio cremoso de chocolate ao leite que agrada a todos os paladares",
                priceOld: 59.99,
                priceNew: 47.99,
                stock: 3691,
                storeStock: 50,
                image: "./images/panetone_trufado.webp",
                emoji: "üç´"
            },
            {
                id: 2,
                code: "1000625",
                name: "Panetone com Recheio de Brigadeiro 580g",
                description: "Chocolate belga 500g com recheio",
                priceOld: 79.99 ,
                priceNew: 64.99,
                stock: 2450,
                storeStock: 50,
                image: "./images/panetone_brigadeiro.webp",
                emoji: "ü•ö"
            },
            {
                id: 3,
                code: "1000626",
                name: "Panetone laCreme ao Leite 650g",
                description: "Caixa com 12 unidades sabores variados",
                priceOld: 89.99,
                priceNew: 69.99,
                stock: 5200,
                storeStock: 50,
                image: "./images/panetone_lacreme.webp",
                emoji: "üç¨"
            },
            {
                id: 4,
                code: "1000627",
                name: "Wafer Mil-Folhas Natal 80g",
                description: "200g chocolate premium ao leite",
                priceOld: 18.99,
                priceNew: 16.99,
                stock: 8900,
                storeStock: 45,
                image: "./images/wafer_mil_folhas_80g.webp",
                emoji: "üç´"
            },
            {
                id: 5,
                code: "1000628",
                name: "Wafer Speculoos 80g",
                description: "Cesta com diversos chocolates selecionados",
                priceOld: 18.99,
                priceNew: 16.99,
                stock: 1850,
                storeStock: 50,
                image: "./images/wafer_speculoos_80g.webp",
                emoji: "üéÅ"
            },
            {
                id: 6,
                code: "1000629",
                name: "Tabletes Natalinos 30g - 4 Unidades", 
                description: "Caixa com 15 brigadeiros artesanais",
                priceOld: 43.96,
                priceNew: 29.99,
                stock: 4320,
                storeStock: 50,
                image: "./images/tablete_natalino30g_4un.png",
                emoji: "üßÅ"
            },
            {
                id: 7,
                code: "1000630",
                name: "Wafer 80g - 2 Unidades",
                description: "Cesta de Natal Cl√°ssica com diversos chocolates selecionados",
                priceOld: 37.98,
                priceNew: 26.99,
                stock: 1200,
                storeStock: 50,
                image: "./images/wafer_recheado_promo.png",
                emoji: "üéÑ"
            }
        ];

        let cart = [];

        // RENDERIZAR PRODUTOS
        function renderProducts() {
            const grid = document.getElementById('productsGrid');
            grid.innerHTML = products.map(product => {
                const discount = Math.round(((product.priceOld - product.priceNew) / product.priceOld) * 100);
                return `
          <div class="product-card" data-product-id="${product.id}">
            <div class="product-image">
              ${product.image ? `<img src="${product.image}" alt="${product.name}" onerror="this.style.display='none'; this.parentElement.innerHTML='${product.emoji}'">` : product.emoji}
            </div>
            
            <div class="product-name">${product.name}</div>
            
            <div class="product-price-container">
              <div class="product-price">
                ${product.priceOld ? `<span class="price-old">R$ ${product.priceOld.toLocaleString('pt-BR', {
                    minimumFractionDigits: 2,
                    maximumFractionDigits: 2
                })}</span>` : ''}
                <span class="price-new">R$ ${product.priceNew.toLocaleString('pt-BR', {
                    minimumFractionDigits: 2,
                    maximumFractionDigits: 2
                })}</span>
              </div>
              ${product.priceOld ? `<span class="discount-badge">-${discount}%</span>` : ''}
            </div>
            
            <div class="product-actions">
              <div class="quantity-control">
                <button onclick="decreaseProductQty(${product.id})" disabled>‚àí</button>
                <input type="number" id="qty-${product.id}" value="1" min="1" max="${product.stock}" readonly>
                <button onclick="increaseProductQty(${product.id})">+</button>
              </div>
              <button class="btn-add" onclick="addToCart(${product.id})">
                üõí Adicionar
              </button>
            </div>
          </div>
        `;
            }).join('');
        }

        // CONTROLE DE QUANTIDADE NO CARD
        function increaseProductQty(productId) {
            const input = document.getElementById(`qty-${productId}`);
            const product = products.find(p => p.id === productId);
            const currentValue = parseInt(input.value);

            if (currentValue < product.stock) {
                input.value = currentValue + 1;
                updateQtyButtons(productId);
            }
        }

        function decreaseProductQty(productId) {
            const input = document.getElementById(`qty-${productId}`);
            const currentValue = parseInt(input.value);

            if (currentValue > 1) {
                input.value = currentValue - 1;
                updateQtyButtons(productId);
            }
        }

        function updateQtyButtons(productId) {
            const input = document.getElementById(`qty-${productId}`);
            const card = document.querySelector(`[data-product-id="${productId}"]`);
            const decreaseBtn = card.querySelector('.quantity-control button:first-child');
            const increaseBtn = card.querySelector('.quantity-control button:last-child');
            const product = products.find(p => p.id === productId);

            decreaseBtn.disabled = parseInt(input.value) <= 1;
            increaseBtn.disabled = parseInt(input.value) >= product.stock;
        }

        // ADICIONAR AO CARRINHO
        function addToCart(productId) {
            const product = products.find(p => p.id === productId);
            const qtyInput = document.getElementById(`qty-${productId}`);
            const quantity = parseInt(qtyInput.value);
            const cartItem = cart.find(item => item.id === productId);

            if (cartItem) {
                cartItem.quantity += quantity;
            } else {
                cart.push({ ...product, quantity: quantity });
            }

            // Resetar quantidade do card
            qtyInput.value = 1;
            updateQtyButtons(productId);

            updateCart();
            saveCartToLocalStorage(); // Salvar no localStorage
            showToast(`${quantity}x ${product.name} adicionado ao carrinho! üéâ`);
        }

        // ATUALIZAR CARRINHO
        function updateCart() {
            const badge = document.getElementById('cartBadge');
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            badge.textContent = totalItems;
            badge.style.display = totalItems > 0 ? 'flex' : 'none';

            renderCart();
            saveCartToLocalStorage(); // Salvar no localStorage sempre que atualizar
        }

        // RENDERIZAR CARRINHO
        function renderCart() {
            const cartItemsDiv = document.getElementById('cartItems');
            const cartTotalDiv = document.getElementById('cartTotal');

            if (cart.length === 0) {
                cartItemsDiv.innerHTML = '<div class="cart-empty">Seu carrinho est√° vazio üõí</div>';
                cartTotalDiv.style.display = 'none';
                return;
            }

            cartItemsDiv.innerHTML = cart.map(item => `
        <div class="cart-item">
          <div style="font-size: 32px;"><img src="${item.image}" alt="${item.name}" style="width: 32px; height: 32px;"></div>
          <div class="cart-item-info">
            <div class="cart-item-name">${item.name}</div>
            <div class="cart-item-price">R$ ${item.priceNew.toLocaleString('pt-BR', {
                minimumFractionDigits: 2,
                maximumFractionDigits: 2
            })}</div>
            <div class="cart-item-controls">
              <button class="btn-qty" onclick="decreaseQty(${item.id})">‚àí</button>
              <span class="qty-display">${item.quantity}</span>
              <button class="btn-qty" onclick="increaseQty(${item.id})">+</button>
              <button class="btn-remove" onclick="removeFromCart(${item.id})">Remover</button>
            </div>
          </div>
        </div>
      `).join('');

            const total = cart.reduce((sum, item) => sum + (item.priceNew * item.quantity), 0);
            document.getElementById('totalPrice').textContent = `R$ ${total.toLocaleString('pt-BR', {
                minimumFractionDigits: 2,
                maximumFractionDigits: 2
            })}`;
            cartTotalDiv.style.display = 'block';
        }

        // AUMENTAR QUANTIDADE
        function increaseQty(productId) {
            const item = cart.find(i => i.id === productId);
            if (item) {
                item.quantity++;
                updateCart();
            }
        }

        // DIMINUIR QUANTIDADE
        function decreaseQty(productId) {
            const item = cart.find(i => i.id === productId);
            if (item && item.quantity > 1) {
                item.quantity--;
                updateCart();
            }
        }

        // REMOVER DO CARRINHO
        function removeFromCart(productId) {
            cart = cart.filter(item => item.id !== productId);
            updateCart();
        }

        // ABRIR MODAL
        document.getElementById('cartFloat').addEventListener('click', () => {
            document.getElementById('cartModal').classList.add('active');
        });

        // FECHAR MODAL
        document.getElementById('btnCloseModal').addEventListener('click', () => {
            document.getElementById('cartModal').classList.remove('active');
        });

        // FECHAR AO CLICAR FORA
        document.getElementById('cartModal').addEventListener('click', (e) => {
            if (e.target.id === 'cartModal') {
                document.getElementById('cartModal').classList.remove('active');
            }
        });

        // BUSCAR CEP AUTOMATICAMENTE
        async function buscarCep() {
            const cepInput = document.getElementById('clientCep');
            const cep = cepInput.value.replace(/\D/g, '');
            
            if (cep.length !== 8) {
                return;
            }

            cepInput.style.borderColor = 'var(--accent)';
            cepInput.style.background = '#fff8f0';

            try {
                const response = await fetch(`https://viacep.com.br/ws/${cep}/json/`);
                const data = await response.json();

                if (data.erro) {
                    showToast('CEP n√£o encontrado');
                    cepInput.style.borderColor = '#e74c3c';
                    return;
                }

                document.getElementById('clientLogradouro').value = data.logradouro || '';
                document.getElementById('clientBairro').value = data.bairro || '';
                document.getElementById('clientCidade').value = data.localidade || '';
                document.getElementById('clientNumero').focus();
                showToast('Endere√ßo encontrado! ‚úÖ');
                cepInput.style.borderColor = '#27ae60';
            } catch (error) {
                showToast('Erro ao buscar CEP. Tente novamente.');
                cepInput.style.borderColor = '#e74c3c';
            } finally {
                setTimeout(() => {
                    cepInput.style.borderColor = '';
                    cepInput.style.background = '';
                }, 2000);
            }
        }

        // Buscar CEP ao sair do campo (blur)
        document.getElementById('clientCep').addEventListener('blur', buscarCep);

        // Formatar CEP enquanto digita
        document.getElementById('clientCep').addEventListener('input', (e) => {
            let value = e.target.value.replace(/\D/g, '');
            if (value.length > 5) {
                value = value.substring(0, 5) + '-' + value.substring(5, 8);
            }
            e.target.value = value;
        });

        // CONTROLE CACAU LOVER - Mostrar/ocultar campos
        document.querySelectorAll('input[name="cacauLover"]').forEach(radio => {
            radio.addEventListener('change', (e) => {
                const loverExistenteFields = document.getElementById('loverExistenteFields');
                const loverNovoFields = document.getElementById('loverNovoFields');
                
                // Ocultar todos os campos primeiro
                loverExistenteFields.style.display = 'none';
                loverNovoFields.style.display = 'none';
                
                // Mostrar campos apropriados
                if (e.target.value === 'ja') {
                    loverExistenteFields.style.display = 'block';
                } else if (e.target.value === 'quero') {
                    loverNovoFields.style.display = 'block';
                }
            });
        });

        // Formatar CPF enquanto digita
        function formatarCPF(input) {
            input.addEventListener('input', (e) => {
                let value = e.target.value.replace(/\D/g, '');
                if (value.length <= 11) {
                    value = value.replace(/(\d{3})(\d)/, '$1.$2');
                    value = value.replace(/(\d{3})(\d)/, '$1.$2');
                    value = value.replace(/(\d{3})(\d{1,2})$/, '$1-$2');
                }
                e.target.value = value;
            });
        }

        formatarCPF(document.getElementById('loverCpfExistente'));
        formatarCPF(document.getElementById('loverCpfNovo'));

        // Formatar Telefone enquanto digita
        document.getElementById('loverTelefone').addEventListener('input', (e) => {
            let value = e.target.value.replace(/\D/g, '');
            if (value.length <= 11) {
                value = value.replace(/^(\d{2})(\d)/g, '($1) $2');
                value = value.replace(/(\d)(\d{4})$/, '$1-$2');
            }
            e.target.value = value;
        });

        // FINALIZAR PEDIDO
        document.getElementById('btnCheckout').addEventListener('click', () => {
            const clientType = document.querySelector('input[name="clientType"]:checked');
            const clientName = document.getElementById('clientName').value.trim();
            const clientLogradouro = document.getElementById('clientLogradouro').value.trim();
            const clientNumero = document.getElementById('clientNumero').value.trim();
            const clientBairro = document.getElementById('clientBairro').value.trim();
            const clientComplemento = document.getElementById('clientComplemento').value.trim();
            const clientCidade = document.getElementById('clientCidade').value.trim();
            const clientCep = document.getElementById('clientCep').value.trim();
            const paymentMethod = document.querySelector('input[name="payment"]:checked');

            if (!clientType) {
                alert('Por favor, selecione o tipo de cliente!');
                return;
            }

            if (!clientName) {
                alert('Por favor, informe seu nome ou nome da empresa!');
                return;
            }

            if (!clientLogradouro) {
                alert('Por favor, informe o logradouro!');
                return;
            }

            if (!clientBairro) {
                alert('Por favor, informe o bairro!');
                return;
            }

            if (!clientCidade) {
                alert('Por favor, informe a cidade!');
                return;
            }

            // Validar Cacau Lover
            const cacauLoverOption = document.querySelector('input[name="cacauLover"]:checked');
            let cacauLoverCpf = '';
            let cacauLoverEmail = '';
            let cacauLoverTelefone = '';
            let cacauLoverStatus = '';

            if (cacauLoverOption) {
                if (cacauLoverOption.value === 'ja') {
                    cacauLoverCpf = document.getElementById('loverCpfExistente').value.trim();
                    if (!cacauLoverCpf) {
                        alert('Por favor, informe seu CPF Cacau Lover!');
                        return;
                    }
                    cacauLoverStatus = 'ja';
                } else if (cacauLoverOption.value === 'quero') {
                    cacauLoverCpf = document.getElementById('loverCpfNovo').value.trim();
                    cacauLoverEmail = document.getElementById('loverEmail').value.trim();
                    cacauLoverTelefone = document.getElementById('loverTelefone').value.trim();
                    
                    if (!cacauLoverCpf || !cacauLoverEmail || !cacauLoverTelefone) {
                        alert('Por favor, preencha todos os dados para se tornar Cacau Lover!');
                        return;
                    }
                    cacauLoverStatus = 'quero';
                } else {
                    cacauLoverStatus = 'nao';
                }
            }

            if (!paymentMethod) {
                alert('Por favor, selecione uma forma de pagamento!');
                return;
            }

            if (cart.length === 0) {
                alert('Seu carrinho est√° vazio!');
                return;
            }

            // DEFINIR N√öMERO DO WHATSAPP BASEADO NO TIPO DE CLIENTE
            let whatsappNumber;
            let clientTypeLabel;

            if (clientType.value === 'PF') {
                whatsappNumber = '5568992268662'; // WhatsApp Pessoa F√≠sica
                clientTypeLabel = 'Pessoa F√≠sica';
            } else {
                whatsappNumber = '5568999335686'; // WhatsApp Pessoa Jur√≠dica (Empresas)
                clientTypeLabel = 'Pessoa Jur√≠dica';
            }

            // MONTAR MENSAGEM DO WHATSAPP
            let message = '*PEDIDO CHOCOFRIDAY* \n\n';
            message += `*Tipo de Cliente:* ${clientTypeLabel}\n`;
            message += `*Nome:* ${clientName}\n`;
            
            // CACAU LOVER
            if (cacauLoverStatus === 'ja') {
                message += `\n*Eu sou Cacau Lover, segue o meu CPF para registro:*\n`;
                message += `   CPF: ${cacauLoverCpf}\n`;
            } else if (cacauLoverStatus === 'quero') {
                message += `\n*Quero ser um Cacau Lover, segue meus dados para cadastro:*\n`;
                message += `   CPF: ${cacauLoverCpf}\n`;
                message += `   E-mail: ${cacauLoverEmail}\n`;
                message += `   Telefone: ${cacauLoverTelefone}\n`;
            }
            
            message += `\n*Endere√ßo de Entrega:*\n`;
            if (clientCep) message += `   CEP: ${clientCep}\n`;
            message += `   ${clientLogradouro}`;
            if (clientNumero) message += `, ${clientNumero}`;
            message += `\n   ${clientBairro} - ${clientCidade}`;
            if (clientComplemento) message += `\n   ${clientComplemento}`;
            message += '\n\n';

            cart.forEach(item => {
                message += `*${item.name}*\n`;
                message += `   Qtd: ${item.quantity}x | R$ ${item.priceNew.toLocaleString('pt-BR', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\n`;
                message += `   Subtotal: R$ ${(item.priceNew * item.quantity).toLocaleString('pt-BR', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\n\n`;
            });

            const total = cart.reduce((sum, item) => sum + (item.priceNew * item.quantity), 0);
            message += `*TOTAL: R$ ${total.toLocaleString('pt-BR', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}*\n\n`;
            message += `*Forma de Pagamento:* ${paymentMethod.value}`;

            // CODIFICAR MENSAGEM PARA URL
            const encodedMessage = encodeURIComponent(message);

            // ABRIR WHATSAPP
            window.open(`https://wa.me/${whatsappNumber}?text=${encodedMessage}`, '_blank');

            // Limpar carrinho ap√≥s enviar
            cart = [];
            clearCartFromLocalStorage();
            updateCart();
            document.getElementById('cartModal').classList.remove('active');
            
            // Limpar campos do formul√°rio
            document.getElementById('clientName').value = '';
            document.getElementById('clientCep').value = '';
            document.getElementById('clientLogradouro').value = '';
            document.getElementById('clientNumero').value = '';
            document.getElementById('clientBairro').value = '';
            document.getElementById('clientComplemento').value = '';
            document.getElementById('clientCidade').value = '';
            document.getElementById('loverCpfExistente').value = '';
            document.getElementById('loverCpfNovo').value = '';
            document.getElementById('loverEmail').value = '';
            document.getElementById('loverTelefone').value = '';
            document.getElementById('naoQueroLover').checked = true;
            document.getElementById('loverExistenteFields').style.display = 'none';
            document.getElementById('loverNovoFields').style.display = 'none';
            document.querySelectorAll('input[name="payment"]').forEach(radio => radio.checked = false);
            
            showToast('Pedido enviado! Carrinho limpo com sucesso! ‚úÖ');
        });

        // TOAST DE NOTIFICA√á√ÉO
        function showToast(message) {
            const toast = document.createElement('div');
            toast.style.cssText = `
        position: fixed;
        bottom: 100px;
        left: 50%;
        transform: translateX(-50%);
        background: var(--success);
        color: white;
        padding: 12px 24px;
        border-radius: 8px;
        font-weight: 600;
        z-index: 3000;
        animation: slideUp 0.3s ease;
      `;
            toast.textContent = message;
            document.body.appendChild(toast);

            setTimeout(() => {
                toast.style.animation = 'slideDown 0.3s ease';
                setTimeout(() => toast.remove(), 300);
            }, 2000);
        }

        // CARROSSEL DE BANNERS
        let currentSlide = 0;
        const totalSlides = 3;
        let carouselInterval;

        function initCarousel() {
            // Criar dots
            const dotsContainer = document.getElementById('carouselDots');
            for (let i = 0; i < totalSlides; i++) {
                const dot = document.createElement('div');
                dot.className = 'carousel-dot';
                if (i === 0) dot.classList.add('active');
                dot.onclick = () => goToSlide(i);
                dotsContainer.appendChild(dot);
            }

            // Auto play
            startAutoPlay();
        }

        function moveCarousel(direction) {
            currentSlide += direction;

            if (currentSlide >= totalSlides) {
                currentSlide = 0;
            } else if (currentSlide < 0) {
                currentSlide = totalSlides - 1;
            }

            updateCarousel();
            resetAutoPlay();
        }

        function goToSlide(index) {
            currentSlide = index;
            updateCarousel();
            resetAutoPlay();
        }

        function updateCarousel() {
            const slides = document.getElementById('carouselSlides');
            slides.style.transform = `translateX(-${currentSlide * 100}%)`;

            // Atualizar dots
            const dots = document.querySelectorAll('.carousel-dot');
            dots.forEach((dot, index) => {
                dot.classList.toggle('active', index === currentSlide);
            });
        }

        function startAutoPlay() {
            carouselInterval = setInterval(() => {
                moveCarousel(1);
            }, 5000); // Troca a cada 5 segundos
        }

        function resetAutoPlay() {
            clearInterval(carouselInterval);
            startAutoPlay();
        }

        // INICIALIZAR
        renderProducts();
        initCarousel();
        loadCartFromLocalStorage(); // Carregar carrinho salvo ao iniciar
    </script>

</body>

</html>